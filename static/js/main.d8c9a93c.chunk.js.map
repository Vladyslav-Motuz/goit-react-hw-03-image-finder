{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/servise/image-api.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchName","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","resetForm","alert","this","className","s","SearchForm","type","SearchForm__button","SearchForm__buttonText","onChange","SearchForm__input","placeholder","React","Component","Loader","color","height","width","timeout","Button","onClick","children","modalroot","document","querySelector","Modal","handleEscClose","e","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","modalImage","modalImageText","createPortal","Overlay","src","alt","ImageGalleryItem","showModal","toggleModal","source","description","id","dataOriginal","ImageGalleryItem__image","api","SearchImages","newSearchImages","page","BASEURL","pixabayKEY","filtersAPI","fetch","then","response","ok","console","log","json","Promise","reject","Error","ImageGallery","data","status","error","handleButtonClick","prevState","prevProps","prevSearchImages","loading","ImagesAPI","hits","totalhits","totalHits","catch","finally","length","massage","map","image","webformatURL","tags","largeImageURL","App","searchForm","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d8c9a93c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3K7Rn\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1X9AJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__WLxYU\",\"Modal\":\"Modal_Modal__8zUua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tN_K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3KF4w\"};","import React from 'react';\r\nimport s from './Searchbar.module.css'\r\n\r\nclass Searchbar extends React.Component {\r\n    state = {\r\n        searchName: ''\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            searchName: event.currentTarget.value.toLowerCase()\r\n        })\r\n        // console.log(this.state);\r\n    };\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (this.state.searchName.trim() === \"\") {\r\n            alert(\"Введите запрос\")\r\n            return\r\n        }\r\n        this.props.onSubmit(this.state.searchName);\r\n\r\n        this.resetForm();\r\n    };\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            searchName: \"\"        \r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { searchName } = this.state;\r\n        return (\r\n            <header\r\n                className={s.Searchbar}                \r\n            >\r\n                <form\r\n                    onSubmit={this.handleSubmit}\r\n                    className={s.SearchForm}                    \r\n                >\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={s.SearchForm__button}                       \r\n                    >\r\n                        <span\r\n                            className={s.SearchForm__buttonText}                            \r\n                        >Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        onChange={this.handleChange}\r\n                        className={s.SearchForm__input}                        \r\n                        type=\"text\"                        \r\n                        value={searchName}\r\n                        // autocomplete=\"off\"\r\n                        // autofocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport Load from \"react-loader-spinner\";\r\nexport default class Loader extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Load\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport s from './Button.module.css';\r\nconst Button = ({ onClick, children }) => {\r\n    return (\r\n        <button className={s.Button} onClick={onClick}>{children}</button>\r\n    )\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css'\r\n\r\nconst modalroot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  handleEscClose = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalImage, modalImageText } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={modalImage} alt={modalImageText} />\r\n        </div>\r\n      </div>,\r\n      modalroot,\r\n    );\r\n  }\r\n};\r\nexport default Modal;","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\nclass ImageGalleryItem extends React.Component {\r\n  state = { showModal: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { source, description, id, dataOriginal} = this.props;    \r\n    return (\r\n      <>\r\n        <li\r\n          key={id}\r\n          className={s.ImageGalleryItem}\r\n          onClick={this.toggleModal}\r\n        >\r\n          <img\r\n            className={s.ImageGalleryItem__image}\r\n            src={source}\r\n            alt={description}            \r\n          />\r\n        </li>\r\n        \r\n        {this.state.showModal && (\r\n          <Modal\r\n            modalImage={dataOriginal}\r\n            modalImageText={description}\r\n            onClose={this.toggleModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ImageGalleryItem;","function SearchImages(newSearchImages, page) {\r\n    const BASEURL = 'https://pixabay.com/api/';\r\n    const pixabayKEY = '22582996-2a8e449eb1831e14bd2864520';\r\n    const filtersAPI = 'image_type=photo&orientation=horizontal&safesearch=true';\r\n    return fetch(`${BASEURL}?key=${pixabayKEY}&q=${newSearchImages}&${filtersAPI}&&page=${page}&per_page=3`)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                console.log(`${BASEURL}?key=${pixabayKEY}&q=${newSearchImages}&${filtersAPI}&&page=${page}&per_page=3`)\r\n                return response.json()\r\n            }\r\n            return Promise.reject(\r\n                new Error(`Изображений с именем ${newSearchImages} не найдено!`)\r\n            );\r\n        })\r\n};\r\nconst api = {\r\n    SearchImages,\r\n};\r\nexport default api;","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport ImagesAPI from '../servise/image-api';\r\n\r\nclass ImageGallery extends React.Component {\r\n    state = {\r\n        data: [],        \r\n        page: 1,\r\n        status: 'idle',\r\n        error: ''        \r\n    };\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevSearchImages = prevProps.searchName;\r\n        const newSearchImages = this.props.searchName;\r\n        const { page } = this.state;\r\n        \r\n        if (prevSearchImages !== newSearchImages) {\r\n            this.setState({ status: 'panding', page: 1, data: '', loading: true });\r\n            if (page === 2) { return };\r\n            ImagesAPI.SearchImages(newSearchImages, page)\r\n                .then(data => this.setState({ data: data.hits, totalhits: data.totalHits, status: 'resolved' }))\r\n                .catch(error => this.setState({ error, status: 'rejected' }))\r\n                .finally(() => this.setState({ loading: false }));\r\n            console.log(page)\r\n        };        \r\n        \r\n        if (prevState.page !== this.state.page) {            \r\n            ImagesAPI.SearchImages(prevSearchImages, this.state.page)\r\n                .then(data => this.setState({ data: [...prevState.data, ...data.hits], status: 'resolved' }))\r\n                .catch(error => this.setState({ error, status: 'rejected' }))\r\n            console.log(page)\r\n        }\r\n    }\r\n\r\n    handleButtonClick = () => {\r\n        this.setState(prevState => ({ page: prevState.page + 1 }))\r\n    };\r\n\r\n    render() {\r\n        const { data, status, error } = this.state;\r\n        if (status === \"idle\") { return <h1>Введите запрос изображения</h1> }\r\n        if (data.length === 0) { return <h1>изображений не найдено</h1> }\r\n        if (status === 'panding') { return <Loader /> };\r\n        if (status === 'rejected') { return <h1>{error.massage}</h1> };\r\n        if (status === 'resolved') {\r\n            return (\r\n                <>\r\n                    <ul className={s.ImageGallery}>\r\n                        {data.map((image) => (\r\n                            <ImageGalleryItem\r\n                                key={image.id}\r\n                                source={image.webformatURL}\r\n                                description={image.tags}\r\n                                dataOriginal={image.largeImageURL}/>))}\r\n                        \r\n                    </ul>\r\n                    {data.length > 0 &&\r\n                        <Button onClick={this.handleButtonClick}>\r\n                            Load more\r\n                        </Button>\r\n                    }\r\n                </>)\r\n        }\r\n    }\r\n};\r\nexport default ImageGallery;","import React from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport './App.css';\n\n\nclass App extends React.Component {\n  state = {\n    searchName: \"\"\n  };  \n  searchForm = (searchName) => {\n    // console.log(searchName);   \n    this.setState({ searchName });    \n  }\n\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.searchForm} />\n        <ImageGallery searchName={this.state.searchName}/>\n      </div>\n    )\n  }\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1V2RW\",\"SearchForm\":\"Searchbar_SearchForm__-nQ8w\",\"SearchForm__button\":\"Searchbar_SearchForm__button__21KTS\",\"SearchForm__buttonText\":\"Searchbar_SearchForm__buttonText__2h9Gv\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1Qee6\",\"input\":\"Searchbar_input__3D5ZB\"};"],"sourceRoot":""}